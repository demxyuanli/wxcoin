cmake_minimum_required(VERSION 3.21)
project(wxcoin_test VERSION 1.0)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Find wxWidgets
find_package(wxWidgets REQUIRED COMPONENTS core base gl adv)
include(${wxWidgets_USE_FILE})

# Collect all source files
file(GLOB_RECURSE ALL_SOURCES 
    src/ui/FlatFrame*.cpp
    src/ui/SimpleDockingFrame.cpp
    src/docking/*.cpp
    src/commands/DockLayoutConfigListener.cpp
    src/commands/CommandListenerManager.cpp
    src/commands/CommandListener.cpp
    src/widgets/*.cpp
    src/flatui/*.cpp
    src/config/*.cpp
    src/logger/*.cpp
)

# Collect headers
file(GLOB_RECURSE ALL_HEADERS
    include/*.h
)

# Create a simple test executable
add_executable(test_ui_frame
    src/MainApplicationDocking.cpp
    ${ALL_SOURCES}
)

target_include_directories(test_ui_frame PRIVATE
    ${CMAKE_SOURCE_DIR}/include
    ${wxWidgets_INCLUDE_DIRS}
)

target_link_libraries(test_ui_frame PRIVATE
    ${wxWidgets_LIBRARIES}
)

# Add compile definitions
target_compile_definitions(test_ui_frame PRIVATE
    $<$<PLATFORM_ID:Windows>:UNICODE _UNICODE>
)